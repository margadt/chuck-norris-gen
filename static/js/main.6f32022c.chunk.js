(this["webpackJsonpkryon-chucknorris"]=this["webpackJsonpkryon-chucknorris"]||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),s=n(11),o=n.n(s),i=(n(17),n(10)),u=n(8),l=n(6),j=n(3),d=n.n(j),b=n(4),h=n(2),O=function(e){var t=e.categories,n=e.onChange,a=e.filterBy,s=Object(r.useState)(""),o=Object(h.a)(s,2),i=o[0],u=o[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"search-input",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Your name"}),Object(c.jsx)("input",{id:"name",name:"name",placeholder:"e.g. Chuck Norris",type:"text",onChange:n,value:null===a||void 0===a?void 0:a.name})]}),Object(c.jsxs)("div",{className:"search-input select",children:[Object(c.jsx)("label",{htmlFor:"category",children:"Categories "}),Object(c.jsxs)("select",{className:i,id:"category",name:"category",onChange:function(e){n(e);var t=e.target.value;u(""!==t?"selected":"")},value:null===a||void 0===a?void 0:a.category,children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Pick a category"}),Object(c.jsx)("option",{value:"",disabled:"disabled",children:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"}),t.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))]})]})]})},f=function(e){var t=e.onChange,n=e.filterBy;return Object(c.jsxs)("div",{className:"search-input free",children:[Object(c.jsx)("label",{htmlFor:"search",children:"Key word(s)"}),Object(c.jsx)("input",{name:"search",type:"text",onChange:t,placeholder:"e.g. egg, break, Chuck Norris, dumb",value:null===n||void 0===n?void 0:n.search})]})},m=function(e){var t=e.isRandom,n=e.categories,a=e.onChange,s=e.filterBy,o=Object(r.useState)(""),i=Object(h.a)(o,2),u=i[0],l=i[1];return Object(r.useEffect)((function(e){if(t){if(s.name)return void l("active")}else if(s.search)return void l("active");l("")}),[t,s.name,s.search]),Object(c.jsxs)("div",{className:"filter-input",children:[t?Object(c.jsx)(O,{categories:n,onChange:a,filterBy:s}):Object(c.jsx)(f,{onChange:a,filterBy:s}),Object(c.jsx)("button",{className:u,type:"submit",children:"GO!"})]})},v=function(e){var t=e.isRandom,n=e.onToggle;return Object(c.jsxs)("div",{className:"filter-mode",onClick:n,children:[Object(c.jsx)("button",{type:"button",className:t?"active":"",children:"Random"}),Object(c.jsx)("button",{type:"button",className:t?"":"active",children:"Search"})]})},x=function(e){var t=e.isRandom,n=e.onToggle,r=e.categories,a=e.onSubmit,s=e.onChange,o=e.filterBy;return Object(c.jsxs)("form",{onSubmit:a,className:"filter-container",children:[Object(c.jsx)(v,{isRandom:t,onToggle:n}),Object(c.jsx)(m,{filterBy:o,isRandom:t,categories:r,onChange:s})]})},g=n.p+"static/media/logo.3f82865e.svg",p=function(e){return Object(c.jsx)("div",{className:"logo-container",children:Object(c.jsx)("img",{src:g,alt:"logo"})})},y=function(e){return Object(c.jsx)("header",{children:Object(c.jsx)(p,{})})},k=function(e){var t=e.quote,n=e.className;if(!t)return"";var r=n||"";return Object(c.jsx)("article",{className:"quote "+r,children:Object(c.jsx)("span",{children:t})})},S=function(e){var t=e.joke,n=e.selectedJoke,a=e.onSelectJoke,s=Object(r.useState)(""),o=Object(h.a)(s,2),i=o[0],u=o[1];Object(r.useEffect)((function(e){t.id!==(null===n||void 0===n?void 0:n.id)?u(""):u("selected")}),[n]);var l=new Date(t.created_at).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("tr",{className:i,onClick:function(e){(null===n||void 0===n?void 0:n.id)!==t.id?a(t):a(null)},children:[Object(c.jsx)("td",{children:t.id}),Object(c.jsx)("td",{className:"capitalize",children:t.categories}),Object(c.jsx)("td",{children:l})]}),t.id===(null===n||void 0===n?void 0:n.id)&&Object(c.jsx)("tr",{className:"selected-quote",children:Object(c.jsx)("td",{colSpan:"3",children:Object(c.jsx)(k,{className:"selected",quote:t.value})})})]})},C=function(e){var t=e.jokes,n=e.selectedJoke,a=e.onSelectJoke,s=Object(r.useState)([]),o=Object(h.a)(s,2),i=o[0],u=o[1],l=Object(r.useState)(!0),j=Object(h.a)(l,2),d=j[0],b=j[1],O=Object(r.useState)(""),f=Object(h.a)(O,2),m=f[0],v=f[1];Object(r.useEffect)((function(e){var n=new Set,c=t.filter((function(e){return!n.has(e.id)&&(n.add(e.id),!0)})),r=d?1:-1;c.sort((function(e,t){return e.created_at.localeCompare(t.created_at)*r})),u(c),v(d?"":"descending")}),[t,d]);return t.length?Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"ID"}),Object(c.jsx)("td",{children:"Category"}),Object(c.jsxs)("td",{onClick:function(e){b(!d)},children:["Date Created ",Object(c.jsx)("span",{className:"arrow "+m})]})]})}),Object(c.jsx)("tbody",{children:i.map((function(e,t){return Object(c.jsx)(S,{joke:e,selectedJoke:n,onSelectJoke:a},e.id+t)}))})]}):""},N="https://api.chucknorris.io/jokes",w=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/categories"));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),J={query:function(){var e=Object(b.a)(d.a.mark((function e(t){var n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.search.length>1)){e.next=8;break}return e.next=4,fetch("".concat(N,"/search?query=").concat(t.search));case 4:return n=e.sent,e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:return c="".concat(t.name?"name="+t.name+"&":"").concat(t.category?"category="+t.category:""),e.next=11,fetch("".concat(N,"/random?").concat(c));case 11:return r=e.sent,e.next=14,r.json();case 14:return e.abrupt("return",e.sent);case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),getRandomJoke:function(){var e=Object(b.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(t.name?"name="+t.name+"&":"").concat(t.category?"category="+t.category:""),e.next=4,fetch("".concat(N,"/random?").concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),getCategories:w};n(19);var B=function(){var e=Object(r.useState)(!0),t=Object(h.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)({name:"",search:"",category:""}),o=Object(h.a)(s,2),j=o[0],O=o[1],f=Object(r.useState)([]),m=Object(h.a)(f,2),v=m[0],g=m[1],p=Object(r.useState)(""),S=Object(h.a)(p,2),N=S[0],w=S[1],B=Object(r.useState)([]),R=Object(h.a)(B,2),q=R[0],E=R[1],F=Object(r.useState)(null),D=Object(h.a)(F,2),T=D[0],_=D[1];Object(r.useEffect)((function(e){!function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getCategories();case 2:n=e.sent,g(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()()}),[]);var I=function(){var e=Object(b.a)(d.a.mark((function e(t){var c,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n){e.next=7;break}return e.next=4,J.getRandomJoke(j);case 4:return r=e.sent,w(r.value),e.abrupt("return");case 7:return e.next=9,J.query(j);case 9:(null===(a=e.sent)||void 0===a||null===(c=a.result)||void 0===c?void 0:c.length)&&(a.result.length>100&&(a.result=a.result.slice(0,101)),E([].concat(Object(i.a)(q),Object(i.a)(a.result))),O(Object(l.a)(Object(l.a)({},j),{},{search:""})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("main",{children:[Object(c.jsx)(y,{}),Object(c.jsx)(x,{filterBy:j,isRandom:n,onToggle:function(e){a(!n)},onSubmit:I,categories:v,onChange:function(e){var t=e.target,n=t.name,c=t.value;O(Object(l.a)(Object(l.a)({},j),{},Object(u.a)({},n,c)))}}),Object(c.jsx)("section",{className:"content",children:n?Object(c.jsx)(k,{quote:N}):Object(c.jsx)(C,{jokes:q,selectedJoke:T,onSelectJoke:function(e){_(e)}})})]})};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(B,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.6f32022c.chunk.js.map